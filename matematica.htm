<div id="div0"> </div>
<div id="div1"> </div>
<div id="div2"> </div>
<div id="div3"> </div>

<!--

-->		

<script language='javascript'>"use strict"
/*



*/





main();
var log =[];
var loc =[];
var rasp;
var turn=1;
var quizName;


function main(){

	showQuizList();
	//callNewQ();
}

function showQuizList(){
	var arr=[
	"impartiriFaraRest",
	"impartiriCuRest",
	"inmultiriSiAdunari",
	"inmultiriDeNegative",
	"inmultiriSimple",
	"adunariSimple",
	"adunariCuTinem1",
	"sumeDeNegative",
	];
	var txt="";
	arr.forEach (m);
	function m(s,i){
		txt+="<br>"+"<span "
			+'onclick="quizName=\''+s+'\'; callNewQ();" '
			+" ><u>"
			+s
			+"</u></span>";
	}
	
	console.log(txt);
	document.getElementById("div1").innerHTML=txt;

}




function callNewQ(){
	var q1;
	switch(quizName){
		case "inmultiriSiAdunari": 	q1=inmultiriSiAdunari();break;
		case "adunariCuTinem1": 	q1=adunariCuTinem1();break;
		case "adunariSimple": 		q1=adunariSimple();break;
		case "inmultiriSimple": 	q1=inmultiriSimple();break;
		case "inmultiriDeNegative": q1=inmultiriDeNegative();break;
		case "sumeDeNegative": 		q1=sumeDeNegative();break;
		case "impartiriFaraRest": 	q1=impartiriFaraRest();break;
		case "impartiriCuRest": 	q1=impartiriCuRest();break;
	}

	document.getElementById("div0").innerHTML=log+"<br><br>";
	//afiseaza q si versiuni
	document.getElementById("div2").innerHTML=turn+".) "+q1.q+"<br><br>";
	var d1,d2;
	if(turn%2==0){
		d1="div1";
		d2="div3";
	}else		{
		d1="div3";
		d2="div1";
	}
	document.getElementById(d1).innerHTML=q1.rh+"<br><br>";
	document.getElementById(d2).innerHTML=" "+"<br><br>";
}

function inmultiriSiAdunari(){
	//sume de negative
	//ex -2 - -4 = ?
	// -+3 +- +-6  = n1s1n2
	var t1,t2,t3,t4;
	t1=r2(0,10);
	t2=r2(0,10);
	t3=r2(-10,10);
	t4=t1*t2+t3;
	var q;
	if(t2>=0){q=t1+"*"+t2;}
	else	{q=t1+"*"+"("+t2+")";}
	if(t3>=0){q=q+"+"+t3+" = ";}
	else	 {q=q+"+"+"("+t3+")"+" = ";}
	
	console.log(q);
	rasp=[1*t4];
		console.log("rasp="+rasp);
	for (var i=0;i<3;i++){
		do{
			var v=	r2(t4-10,t4+10);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		console.log("t3="+t3,"v="+v);
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
	

}

function adunariCuTinem1(){
	//t1="tinem 1"
	//0t1 = fara "tinem 1"
	//2t1 = 2 "tinem 1"
	//
	var t1,t2,t3,x1,x2;
	//gradari:
		//09 +09 0t1 3+7
			// t1=r2(0,9);	
			// t2=r2(0,9-t1);
		//09 +09 1t1 3+8
			// t1=r2(0,9);	
			// t2=r2(10-t1,10);
		//099 +09 0t1 35+4
			// x1=r2(0,9);	
			// t1=r2(1,9)*10+x1;	
			// t2=r2(0,9-x1);		
		//099 +09 1t1 35+8
			// x1=r2(0,9);	
			// t1=r2(1,9)*10+x1;	
			// t2=r2(10-x1,10);		
		//099+099 0t1 			33+44= 77
			// x1=r2(0,9);	
			// x2=r2(1,8);	
			// t1=x2*10+x1;//10-89	
			// t2=r2(1,9-x2)*10+r2(0,9-x1);						
		//099+099 1t1 sub 100   33+48= 81
			// x1=r2(0,9);	
			// x2=r2(1,8);	
			// t1=x2*10+x1;//10-89	
			// t2=r2(1,9-x2)*10+r2(10-x1,9);								
		//099+099 1t1 peste 100 33+84=117
			x1=r2(0,9);	
			x2=r2(1,9);	
			t1=x2*10+x1;//10-99	
			t2=r2(10-x2,9)*10+r2(0,9-x1);		
		// 099+099 2t1 peste 100 33+88=121
			// x1=r2(0,9);	
			// x2=r2(1,9);	
			// t1=x2*10+x1;//10-99	
			// t2=r2(10-x2,9)*10+r2(0,9-x1);		
		// pana aici e super decent, ce urmeaza e cam overkill
		// 100-999+10-99-le-as lasa de-a valma, sunt pritocite in 099+099
			// t1=r2(100,999);
			// t2=r2(10,99);

	t3=1*t1+1*t2;
	var q;
	if(t2>=0){q=t1+"+"+t2+" = ";}
	else	{q=t1+"+"+"("+t2+")"+" = ";}
	console.log(q);
	rasp=[1*t3];
		console.log("rasp="+rasp);
	for (var i=0;i<3;i++){
		do{
			var v=	r2(t3-5,t3+5);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		console.log("t3="+t3,"v="+v);
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
}


function adunariSimple(){
	//sume de negative
	//ex -2 - -4 = ?
	// -+3 +- +-6  = n1s1n2
	var t1,t2,t3;
	t1=r2(11,50);
	t2=r2(11,50);
	t3=1*t1+1*t2;
	var q;
	if(t2>=0){q=t1+"+"+t2+" = ";}
	else	{q=t1+"+"+"("+t2+")"+" = ";}
	console.log(q);
	rasp=[1*t3];
		console.log("rasp="+rasp);
	for (var i=0;i<3;i++){
		do{
			var v=	r2(t3-5,t3+5);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		console.log("t3="+t3,"v="+v);
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
	

}

function inmultiriSimple(){
	//sume de negative
	//ex -2 - -4 = ?
	// -+3 +- +-6  = n1s1n2
	var t1,t2,t3;
	t1=r2(0,10);
	t2=r2(0,10);
	t3=t1*t2;
	var q;
	if(t2>=0){q=t1+"*"+t2+" = ";}
	else	{q=t1+"*"+"("+t2+")"+" = ";}
	console.log(q);
	rasp=[1*t3];
		console.log("rasp="+rasp);
	for (var i=0;i<3;i++){
		do{
			var v=	r2(t3-10,t3+10);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		console.log("t3="+t3,"v="+v);
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
	

}

function inmultiriDeNegative(){
	//sume de negative
	//ex -2 - -4 = ?
	// -+3 +- +-6  = n1s1n2
	var t1,t2,t3;
	t1=r2(-10,10);
	t2=r2(-10,10);
	t3=t1*t2;
	var q;
	if(t2>=0){q=t1+"*"+t2+" = ";}
	else	{q=t1+"*"+"("+t2+")"+" = ";}
	console.log(q);
	rasp=[1*t3];
		console.log("rasp="+rasp);
	for (var i=0;i<3;i++){
		do{
			var v=	r2(t3-100,t3+100);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		console.log("t3="+t3,"v="+v);
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
	

}

function sumeDeNegative(){
	//sume de negative
	//ex -2 - -4 = ?
	// -+3 +- +-6  = n1s1n2
	var t1,t2,t3;
	t1=r2(-3,3);
	t2=r2(-6,6);
	var x=r1(1);//daca x e 0 atunci semnul e +; daca e 1  atunci -
	var s="";
	//if(x==0){t3=(parseInt(t1)+parseInt(t2));s="+";}
	if(x==0){t3=t1+t2;s="+";}
	else	{t3=t1-t2;s="-";}	

	var q;
	if(t2>0){q=t1+s+t2+" = ";}
	else	{q=t1+s+"("+t2+")"+" = ";}
	console.log(q);
	rasp=[1*t3];
		console.log("rasp="+rasp);
	for (var i=0;i<3;i++){
		do{
			var v=	r2(t3-3,t3+3);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		console.log("t3="+t3,"v="+v);
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
	

}



function impartiriFaraRest(){
	//impartiri fara rest
	//ex 14:2=7
	//0-100 : 0-10 = t1/t2 rest t1 - t2*t3
	var t2=r2(1,10);
	var t3=r2(1,10);
	var t1=t2*t3;

	var q=t1+" : "+t2+" = ";//+t3+" rest "+t4;
	console.log(q);
	rasp=[t3];
	for (var i=0;i<3;i++){
		do{
			var v=	r2(t3-5,t3+5);
		console.log("t3="+t3,"v="+v);
			//v=	r2((t3>5 ? t3-5 : 0),t3+5);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
}


function impartiriCuRest(){
	//impartiri cu rest
	//ex 15:2=7 rest 1
	//0-100 : 0-10 = t1/t2 rest t1 - t2*t3
	var t1,t2,t3,t4;
	t1=r1(50);
	t2=r2(1,10);
	t3=Math.trunc(t1/t2);//trunc elimina virgula si ce e dupa ea
	t4=t1%t2;
	var q=t1+" : "+t2+" = ";//+t3+" rest "+t4;
	console.log(q);
	rasp=[t3+" rest "+t4];
	var v;
	for (var i=0;i<2;i++){
		do{
			v=	r2((t3>3 ? t3-3 : 0),t3+3)
				+" rest "+r2(0,t4+4);
		}while(rasp.indexOf(v)!=-1)//ca sa nu fie variante duplicat
		console.log("n" +v);
		rasp.push(v);
	}
	//console.log(rasp);
	loc=[];
	asigneazaLOCvariante();
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta
	

	//returneaza
	return{
		q:q,
		rh:randCuVarianteDeRaspuns()
	}
}

function randCuVarianteDeRaspuns(){
	//creeaza raspuns html pt mouseover
	var rh='';
	for (var i=0;i<rasp.length;i++){
		rh+='<span ';
		if(loc[i]==0){//e varianta corecta
			rh+=` onmouseover=" this.style.backgroundColor='yellow';  
			raspCorect(); 
			" `;
		}
		else{//e o varianta incorecta
			rh+=' onmouseover="raspGresit();" ';
			rh+=` onmouseenter="this.style.backgroundColor='black';" `;
			rh+=` onmouseout="this.style.backgroundColor='white';" `;
			//rh+=` onmouseenter="console.log('111')" `;
		}
		rh+='">[';
		rh+=rasp[loc[i]];
		rh+=']</span> '+'&nbsp;&nbsp;' ;
	
	}
	return rh;
}

function asigneazaLOCvariante(){
	//alege ordinea in care sa afizeze var de rasp, stiind ca rasp[0] e cea corecta
	var v;
	for (var i=0;i<rasp.length;i++){
		do{
			v=r1(rasp.length-1);
		}while(loc.indexOf(v)!=-1);
		loc.push(v);
	//console.log(loc);
	}
}
	
function raspCorect(){
	console.log("bravo!");
	logAnswer(1);
	turn++;
	callNewQ();
}

function raspGresit(){
	console.log("try again!");
	logAnswer(0);
}	

function logAnswer(i){
	//daca la acest turn am un raspuns, nu mia trec nimic
	if(log.length==turn){return;}
	else {log.push(i);}
}

function r1(i){
	//returns rnd intre 0 si i INCLUSIV;merge si pt i negativ
	return 1*(i*Math.random()).toFixed(0);
}
function r2(i, j){
	if(i>j){
		var x=i;
		i=j;
		j=x;
	}
	//returns rnd intre i si j INCLUSIV;merge si pt i si j negative
	return  1*((i+(j-i)*Math.random()).toFixed(0));
}


</script>
